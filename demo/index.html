<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Makyo Dropdown Demo</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      .dropdown-scrollbar::-webkit-scrollbar {
        width: 6px;
      }
      .dropdown-scrollbar::-webkit-scrollbar-track {
        background: transparent;
      }
      .dropdown-scrollbar::-webkit-scrollbar-thumb {
        background-color: #d1d5db;
        border-radius: 3px;
      }
      .dropdown-scrollbar::-webkit-scrollbar-thumb:hover {
        background-color: #9ca3af;
      }
      .dropdown-scrollbar {
        scrollbar-width: thin;
        scrollbar-color: #d1d5db transparent;
      }
      .animate-scale-in {
        animation: scaleIn 0.15s ease-out;
      }
      @keyframes scaleIn {
        0% {
          opacity: 0;
          transform: scale(0.95);
        }
        100% {
          opacity: 1;
          transform: scale(1);
        }
      }
    </style>
  </head>
  <body class="bg-gray-50 p-8">
    <div class="max-w-4xl mx-auto">
      <h1 class="text-4xl font-bold text-center mb-8 text-gray-900">
        Makyo Dropdown Demo
      </h1>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <div class="bg-white p-6 rounded-lg shadow-md">
          <h2 class="text-xl font-semibold mb-4">Basic Dropdown</h2>
          <div id="basic-dropdown"></div>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-md">
          <h2 class="text-xl font-semibold mb-4">Searchable</h2>
          <div id="searchable-dropdown"></div>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-md">
          <h2 class="text-xl font-semibold mb-4">Multiple Selection</h2>
          <div id="multiple-dropdown"></div>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-md">
          <h2 class="text-xl font-semibold mb-4">With Icons</h2>
          <div id="icons-dropdown"></div>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-md">
          <h2 class="text-xl font-semibold mb-4">Portal Mode</h2>
          <div class="relative">
            <div
              class="absolute inset-0 bg-blue-500 opacity-20 z-50 pointer-events-none p-2 rounded">
              <span class="text-blue-900 text-sm font-semibold"
                >High z-index element</span
              >
            </div>
            <div class="relative z-10 bg-white p-2 rounded">
              <div id="portal-dropdown"></div>
            </div>
          </div>
        </div>

        <div class="bg-white p-6 rounded-lg shadow-md">
          <h2 class="text-xl font-semibold mb-4">With Loading</h2>
          <div id="loading-dropdown"></div>
        </div>
      </div>

      <div class="mt-8 text-center">
        <p class="text-gray-600">
          View the full documentation and more examples in
          <a
            href="https://zukajakeli.github.io/makyo-dropdown/"
            target="_blank"
            class="text-blue-600 hover:text-blue-800 underline"
            >Storybook</a
          >
        </p>
        <p class="text-sm text-gray-500 mt-2">
          Install: <code class="bg-gray-100 px-2 py-1 rounded">npm install makyo-dropdown</code>
        </p>
      </div>
    </div>

    <!-- Load the actual component from the built files -->
    <script type="module">
      // Import the actual Dropdown component
      import { Dropdown } from './dist/index.esm.js';
      
      const { useState, createElement } = React;

      // Sample data
      const basicOptions = [
        { value: 'apple', label: 'Apple' },
        { value: 'banana', label: 'Banana' },
        { value: 'cherry', label: 'Cherry' },
        { value: 'date', label: 'Date' },
        { value: 'elderberry', label: 'Elderberry' },
      ];

      const longOptions = Array.from({ length: 50 }, (_, i) => ({
        value: `option-${i}`,
        label: `Option ${i + 1}`,
      }));

      const iconOptions = [
        {
          value: 'home',
          label: 'Home',
          icon: createElement('span', null, 'üè†'),
        },
        {
          value: 'profile',
          label: 'Profile',
          icon: createElement('span', null, 'üë§'),
        },
        {
          value: 'settings',
          label: 'Settings',
          icon: createElement('span', null, '‚öôÔ∏è'),
        },
        {
          value: 'logout',
          label: 'Logout',
          icon: createElement('span', null, 'üö™'),
        },
      ];

      // Demo components
      function BasicDropdownDemo() {
        const [value, setValue] = useState(undefined);
        return createElement(Dropdown, {
          options: basicOptions,
          value: value,
          onChange: setValue,
          placeholder: 'Select a fruit...',
        });
      }

      function SearchableDropdownDemo() {
        const [value, setValue] = useState(undefined);
        return createElement(Dropdown, {
          options: longOptions,
          value: value,
          onChange: setValue,
          placeholder: 'Search for an option...',
          searchable: true,
        });
      }

      function MultipleDropdownDemo() {
        const [value, setValue] = useState([]);
        return createElement(Dropdown, {
          options: basicOptions,
          value: value,
          onChange: setValue,
          placeholder: 'Select multiple fruits...',
          multiple: true,
        });
      }

      function IconsDropdownDemo() {
        const [value, setValue] = useState(undefined);
        return createElement(Dropdown, {
          options: iconOptions,
          value: value,
          onChange: setValue,
          placeholder: 'Select an action...',
        });
      }

      function PortalDropdownDemo() {
        const [value, setValue] = useState(undefined);
        return createElement(Dropdown, {
          options: basicOptions,
          value: value,
          onChange: setValue,
          placeholder: 'Portal dropdown...',
          usePortal: true,
        });
      }

      function LoadingDropdownDemo() {
        const [value, setValue] = useState(undefined);
        return createElement(Dropdown, {
          options: basicOptions,
          value: value,
          onChange: setValue,
          placeholder: 'Loading dropdown...',
          loading: true,
          loadingText: 'Loading options...',
        });
      }

      // Render examples
      ReactDOM.render(
        createElement(BasicDropdownDemo),
        document.getElementById('basic-dropdown')
      );

      ReactDOM.render(
        createElement(SearchableDropdownDemo),
        document.getElementById('searchable-dropdown')
      );

      ReactDOM.render(
        createElement(MultipleDropdownDemo),
        document.getElementById('multiple-dropdown')
      );

      ReactDOM.render(
        createElement(IconsDropdownDemo),
        document.getElementById('icons-dropdown')
      );

      ReactDOM.render(
        createElement(PortalDropdownDemo),
        document.getElementById('portal-dropdown')
      );

      ReactDOM.render(
        createElement(LoadingDropdownDemo),
        document.getElementById('loading-dropdown')
      );
    </script>
  </body>
</html>